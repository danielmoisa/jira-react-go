(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(17),l=a.n(r),s=(a(66),a(67),a(4)),i=a(10),o=a(6),u=function(){return c.a.createElement("div",{className:"loader-wrapper center"},c.a.createElement("div",{id:"loading"}))},m=a(8),d=a(19),p=a(30),E=(a(68),a(69),a(50)),b=function(){return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header-wrapper"},c.a.createElement("div",{className:"header-left"},c.a.createElement(o.b,{to:"/",className:"arrow"},c.a.createElement(E.a,null)),c.a.createElement("div",{className:"avatar-wrapper"},c.a.createElement("div",{className:"avatar"},c.a.createElement("img",{src:"../../logo.svg",alt:"platform logo"})),c.a.createElement("div",{className:"project-info"},c.a.createElement("h4",{className:"name"},"Projects Management Platform")))),c.a.createElement("div",{className:"header-right"},c.a.createElement(o.b,{to:"/edit-account",className:"me"},c.a.createElement("div",{className:"left center"},c.a.createElement(m.e,null),c.a.createElement("span",null,"Me")),c.a.createElement("div",{className:"right center"},c.a.createElement(m.d,null))),c.a.createElement(o.b,{to:"/add-issue",className:"add-task center"},c.a.createElement(m.f,null),c.a.createElement("span",null,"Add Issue")),c.a.createElement(o.b,{to:"/add-project",className:"settings center"},c.a.createElement(d.d,null),c.a.createElement("span",null,"Add Project")))))},f=a(22),v=a(7),g=a.n(v),j=a(11),O=a(51),h=function(e){var t=e.userProjects;return c.a.createElement("div",null,c.a.createElement("div",{className:"projects"},t&&t.map((function(e){return c.a.createElement(o.c,{to:"/project/".concat(e.ID),key:e.ID,activeClassName:"active-project"},c.a.createElement("p",null,e.name),c.a.createElement(O.a,null),e.Issues&&e.Issues.length>0?c.a.createElement("span",{className:"count center"},e.Issues.length):"")}))))},N=a(5),y=a.n(N),C=(a(92),a(52)),k=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),u=i[0],d=i[1],E=Object(n.useState)([]),b=Object(s.a)(E,2),v=b[0],O=b[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/users/1");case 2:t=e.sent,O(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=v.Projects;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"account"},c.a.createElement("div",{className:"account-wrapper"},c.a.createElement("div",{className:"avatar"},c.a.createElement("div",{className:"info center"},c.a.createElement(C.a,null),c.a.createElement("p",null,v.username))))),c.a.createElement(o.c,{exact:!0,to:"/",activeClassName:"active-link",className:"sidebar-item board"},c.a.createElement(m.b,null),c.a.createElement("span",null,"Kanban Board")),c.a.createElement("div",{className:"sidebar-item search-issues ".concat(a?"dropdown-active":""),onClick:function(){return r(!a)}},a?c.a.createElement("div",null,c.a.createElement(p.a,null)," ",c.a.createElement("span",null,"Close search")):c.a.createElement("div",null,c.a.createElement(m.g,null)," ",c.a.createElement("span",null,"Search projects"))),c.a.createElement("div",{className:"search-dropdown"},a&&c.a.createElement("input",{type:"text",autoFocus:!0,placeholder:"Search projects here...",value:u,onChange:function(e){d(e.target.value)}})),c.a.createElement(h,{userProjects:""===u?N:Object(f.a)(N).filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())}))}))},D=(a(93),a(53)),I=function(e){var t=e.userIssues,a=e.setIssuesModal;return c.a.createElement("div",{className:"search-issues"},t&&t.length>0?t.map((function(e,t){return c.a.createElement(o.b,{key:e.ID,to:"/issue/".concat(e.ID),onClick:function(){return a(!1)}},c.a.createElement("div",{className:"single-issue"},c.a.createElement("h4",null,e.title),c.a.createElement("div",{className:"comments center"},c.a.createElement(D.a,null),c.a.createElement("span",{className:"comments-count"},e.Comments.length))))})):c.a.createElement("p",null,"No issues found."))},w=a(37),S=function(e){var t=e.setIssuesModal,a=Object(n.useState)([]),r=Object(s.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],p=u[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/issues");case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=l;return c.a.createElement("div",{className:"search-modal"},c.a.createElement("div",{className:"search-input"},c.a.createElement("div",{className:"search-icon"},c.a.createElement(m.g,null)),c.a.createElement("input",{type:"text",autoFocus:!0,placeholder:"Search issues by title...",value:d,onChange:function(e){p(e.target.value)}})),c.a.createElement("h4",{className:"issues-title"},""===d?c.a.createElement("span",null,c.a.createElement(w.a,null)," All issues"):c.a.createElement("span",{className:"active-search"},c.a.createElement(w.a,null)," Matching issues")),c.a.createElement(I,{userIssues:""===d?E:Object(f.a)(E).filter((function(e){return e.title.toLowerCase().includes(d.toLowerCase())})),setIssuesModal:t}))},x=function(e){var t=e.children,a=Object(n.useState)(!0),r=Object(s.a)(a,2),l=r[0],E=r[1],f=Object(n.useState)(!1),v=Object(s.a)(f,2),g=v[0],j=v[1];Object(n.useEffect)((function(){setTimeout((function(){return E(!1)}),1e3)}),[]);var O=Object(i.h)();return c.a.createElement("div",{className:"main"},"/login"!==O.pathname&&c.a.createElement("div",{className:"side"},c.a.createElement("div",{className:"side-menu"},c.a.createElement("div",{className:"menu-wrapper"},c.a.createElement("ul",null,c.a.createElement("li",{className:"logo"},c.a.createElement(o.b,{to:"/"},c.a.createElement("img",{src:"../../logo-sidemenu.svg",alt:"platform logo"}))),c.a.createElement("li",{onClick:function(){return j(!g)}},c.a.createElement("a",null,c.a.createElement(m.g,null),c.a.createElement("span",null,"Search issues"))),c.a.createElement("li",null,c.a.createElement(o.c,{to:"/add-issue",activeClassName:"active-link"},c.a.createElement(d.b,null)," ",c.a.createElement("span",null,"Add issue"))),c.a.createElement("li",null,c.a.createElement(o.c,{to:"/add-project",activeClassName:"active-link"},c.a.createElement(d.c,null)," ",c.a.createElement("span",null,"Add project"))),c.a.createElement("li",null,c.a.createElement(o.c,{to:"/edit-account",activeClassName:"active-link"},c.a.createElement(m.d,null)," ",c.a.createElement("span",null,"Account")))))),c.a.createElement("div",{className:"sidebar"},c.a.createElement(k,null))),c.a.createElement("div",{className:"content"},"/login"!==O.pathname&&c.a.createElement(b,null),g&&c.a.createElement("div",{className:"search-issues-modal ".concat(g?"open-issues-modal":"")},c.a.createElement("div",{className:"overlay"}),c.a.createElement("div",{className:"search-issues-wrapper"},c.a.createElement("div",{className:"close-modal center",onClick:function(){return j(!1)}},c.a.createElement(p.a,null)),c.a.createElement(S,{setIssuesModal:j}))),l?c.a.createElement(u,null):t))},R=a(20),P=a(3),T=a(33),A={REQUESTED:"Requested",TODO:"To do",INPROGRESS:"In progress",DONE:"Done"},F=a(54),M=a.n(F),V=(a(94),"/api/issues"),L=function(e){return y.a.post(V,e)},U=function(e){return y.a.delete("".concat(V,"/").concat(e)).then((function(e){return e.data}))},G=function(e,t){return y.a.patch("".concat(V,"/").concat(e),t).then((function(e){return e.data}))},H=a(9);var q=function(){var e=Object(n.useState)({requested:{name:A.REQUESTED,items:[]},todo:{name:A.TODO,items:[]},inProgress:{name:A.INPROGRESS,items:[]},done:{name:A.DONE,items:[]}}),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/issues");case 2:t=e.sent,m(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=u&&u.filter((function(e){return e.progress===A.REQUESTED})),t=u&&u.filter((function(e){return e.progress===A.TODO})),n=u&&u.filter((function(e){return e.progress===A.INPROGRESS})),c=u&&u.filter((function(e){return e.progress===A.DONE}));r(Object(P.a)(Object(P.a)({},a),{},{requested:{name:A.REQUESTED,items:e},todo:{name:A.TODO,items:t},inProgress:{name:A.INPROGRESS,items:n},done:{name:A.DONE,items:c}}))}),[u]),c.a.createElement("div",{className:"board-columns"},c.a.createElement(T.a,{onDragEnd:function(e){return function(e,t,a){if(e.destination){var n=e.source,c=e.destination;if(n.droppableId!==c.droppableId){var r,l=t[n.droppableId],i=t[c.droppableId],o=Object(f.a)(l.items),m=Object(f.a)(i.items),d=o.splice(n.index,1),p=Object(s.a)(d,1)[0];m.splice(c.index,0,p),a(Object(P.a)(Object(P.a)({},t),{},(r={},Object(R.a)(r,n.droppableId,Object(P.a)(Object(P.a)({},l),{},{items:o})),Object(R.a)(r,c.droppableId,Object(P.a)(Object(P.a)({},i),{},{items:m})),r)));!function(t){var a=Object(P.a)(Object(P.a)({},u),{},{progress:i.name});G(t,a).then((function(t){H.b.info("Status changed in ".concat(e.destination.droppableId))}))}(e.draggableId)}else{var E=t[n.droppableId],b=Object(f.a)(E.items),v=b.splice(n.index,1),g=Object(s.a)(v,1)[0];b.splice(c.index,0,g),a(Object(P.a)(Object(P.a)({},t),{},Object(R.a)({},n.droppableId,Object(P.a)(Object(P.a)({},E),{},{items:b}))))}}}(e,a,r)}},Object.entries(a).map((function(e,t){var a=Object(s.a)(e,2),n=a[0],r=a[1];return c.a.createElement("div",{className:"board-single-column",key:n},c.a.createElement("h2",null,r.name),c.a.createElement("div",{style:{margin:8}},c.a.createElement(T.c,{droppableId:n,key:n},(function(e,t){return c.a.createElement("div",Object.assign({className:"column-tasks-wrapper"},e.droppableProps,{ref:e.innerRef,style:{backgroundColor:t.isDraggingOver?"#afb8ea":"#e0e3f5",padding:10,minHeight:500,boxShadow:t.isDraggingOver?"0px 2px 7px 1px rgba(0, 0, 0, 0.1)":"none"}}),r.items.map((function(e,t){return c.a.createElement(T.b,{key:e.ID.toString(),draggableId:e.ID.toString(),index:t},(function(t,a){return c.a.createElement(M.a,{style:t.draggableProps.style,snapshot:a},(function(r){return c.a.createElement("div",Object.assign({className:"task-card",ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Object(P.a)(Object(P.a)({userSelect:"none",padding:10,margin:"0 0 8px 0",minHeight:"50px",borderRadius:"5px",backgroundColor:a.isDragging?"#f5f6f8":"#fff",boxShadow:a.isDragging?"0px 2px 7px 1px rgba(0, 0, 0, 0.1)":"none"},r),t.draggableProps)}),c.a.createElement(o.b,{to:"/issue/".concat(e.ID)},c.a.createElement("div",{className:"status"},c.a.createElement("div",{className:"progress ".concat(n.toLowerCase())},c.a.createElement("span",null,n||e.progress)),c.a.createElement("div",{className:"priority ".concat(e.priority.split(" ").join(""))},c.a.createElement("span",null,e.priority))),c.a.createElement("h5",null,e.title),c.a.createElement("p",null,e.description)))}))}))})),e.placeholder)}))))}))))},Q=(a(96),a(49),function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useReducer)((function(e,t){return Object(P.a)(Object(P.a)({},e),t)}),{title:"",description:"",estimated:"",progress:"Requested",priority:"Low",project:Number(2)}),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)(null),p=Object(s.a)(d,2),E=p[0],b=p[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/projects");case 2:t=e.sent,b(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=[{value:A.REQUESTED,label:A.REQUESTED},{value:A.TODO,label:A.TODO},{value:A.INPROGRESS,label:A.INPROGRESS},{value:A.DONE,label:A.DONE}],v=function(e){var t=e.target,a=t.name,n=t.value;u(Object(R.a)({},a,n))};return c.a.createElement("div",{className:"add-issue"},c.a.createElement("h2",null,"Create new issue"),c.a.createElement("div",{className:"add-issue-form"},c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""!==o.title&&""!==o.description&&""!==o.estimated){var t={title:o.title,description:o.description,timelog:0,estimated:Number(o.estimated),progress:o.progress,priority:o.priority,ProjectID:Number(o.project),imgid:a&&a.name};L(t),u({title:"",description:"",estimated:"",progress:"",priority:""}),b(""),H.b.success("Task successfully added!")}else H.b.error("All fields are required!");var n=new FormData;n.append("file",a),y.a.post("/api/upload",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.statusText)}))}},c.a.createElement("label",{htmlFor:"title"},"Issue title"),c.a.createElement("input",{type:"text",name:"title",id:"title",value:o.title,onChange:v}),c.a.createElement("label",{htmlFor:"description"},"Issue description"),c.a.createElement("textarea",{name:"description",id:"description",value:o.description,onChange:v}),c.a.createElement("label",{htmlFor:"estimated"},"Issue estimated"),c.a.createElement("input",{type:"text",name:"estimated",id:"estimated",value:o.estimated,onChange:v}),c.a.createElement("label",{htmlFor:"progress"},"Issue status"),c.a.createElement("select",{name:"progress",id:"progress",defaultValue:o.progress,onChange:v},f.map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.label)}))),c.a.createElement("label",{htmlFor:"priority"},"Issue priority"),c.a.createElement("select",{name:"priority",id:"priority",defaultValue:o.priority,onChange:v},[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}].map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.label)}))),c.a.createElement("label",{htmlFor:"project"},"Issue project"),c.a.createElement("select",{name:"project",id:"project",defaultValue:o.project,onChange:v},E&&E.map((function(e){return c.a.createElement("option",{value:e.ID,key:e.ID},e.name)}))),c.a.createElement("input",{type:"file",name:"file",onChange:function(e){return function(e){r(e.target.files[0])}(e)}}),c.a.createElement("button",{type:"submit",className:"submit-btn center"},c.a.createElement("div",{className:"icon"},c.a.createElement(m.f,null))," ","Add issue"))))}),W=a(106),B=a(56),$=a(57),J=a(59),_=a(58);function K(e){return function(t){Object(J.a)(n,t);var a=Object(_.a)(n);function n(){var e;Object(B.a)(this,n),e=a.call(this);var t=document.cookie.replace(/(?:(?:^|.*;\s*)access_token\s*\=\s*([^;]*).*$)|^.*$/,"$1");return e.state={loading:!0,redirect:!1,accessToken:t},e}return Object($.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.state.accessToken?c.a.createElement(e,this.props):c.a.createElement(i.a,{to:"/login"})}}]),n}(n.Component)}var z=function(e){return y.a.post("/api/projects",e)},X=function(e){return y.a.delete("".concat("/api/projects","/").concat(e)).then((function(e){return e.data}))},Y=function(e,t){return y.a.patch("".concat("/api/projects","/").concat(e),t).then((function(e){return e.data}))},Z=(a(97),a(16)),ee=function(e){var t=e.match,a=Object(n.useState)(),r=Object(s.a)(a,2),l=r[0],i=r[1],u=t.params.projectId,p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],f=E[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),h=O[0],N=O[1],C=Object(n.useRef)(null);Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/projects/".concat(u));case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]);return c.a.createElement(c.a.Fragment,null,l&&c.a.createElement("div",null,c.a.createElement("div",{className:"single-issue-wrapper",key:l.ID},c.a.createElement("div",{className:"main-col"},c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",defaultValue:l.name,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{name:e.target.value}))}}),c.a.createElement("div",{className:"icon description"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{name:l.title});Y(e,t)}(l.ID)}))),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("b",null,"Description"),c.a.createElement("textarea",{name:"description",id:"description",defaultValue:l.description,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{description:e.target.value}))}}),c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{description:l.description});Y(e,t)}(l.ID)})))),c.a.createElement("div",{className:"side-col"},c.a.createElement("div",{className:"copy-delete"},document.queryCommandSupported("copy")&&c.a.createElement("div",{className:"copy-url",onClick:function(){C.current.select(),document.execCommand("copy"),N(!0)}},h?c.a.createElement("div",{className:"copy copied center side-btn"},c.a.createElement(m.a,null)," Url copied"):c.a.createElement("div",{className:"copy uncopied center side-btn"},c.a.createElement(m.c,null),"Copy url"),c.a.createElement("input",{type:"text",ref:C,defaultValue:window.location.href})),c.a.createElement("div",{className:"delete-issue center ".concat(b?"delete-active":""),onClick:function(){return f(!b)}},c.a.createElement(d.a,null)),b&&c.a.createElement("div",{className:"delete-issues-modal"},c.a.createElement("h4",null,"Are you sure you want to delete this project?"),c.a.createElement("div",{className:"buttons center"},c.a.createElement("button",{className:"cancel secondary-btn",onClick:function(){return f(!1)}},"Cancel"),c.a.createElement(o.b,{to:"/",className:"delete primary-btn",onClick:function(){return function(e){X(e),H.b.success("Project successfully deleted")}(l.ID)}},"Delete")))),c.a.createElement("div",{className:"status"},c.a.createElement("h4",{className:"side-title"},"Category"),c.a.createElement("div",{className:"side-content side-btn"},c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{category:l.category});Y(e,t)}(l.ID)})),c.a.createElement("select",{name:"category",id:"category",defaultValue:l.category,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{category:e.target.value}))}},[{value:"Web Development",label:"Web Development"},{value:"Marketing",label:"Marketing"},{value:"Grafic Design",label:"Grafic Design"}].map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.label)}))))))),c.a.createElement("div",{className:"project-issues"},l.Issues.length>0?c.a.createElement("h2",null,"Project issues"):"",c.a.createElement("div",{className:"wrapper"},l.Issues&&l.Issues.map((function(e){return c.a.createElement(o.b,{to:"/issue/".concat(e.ID),className:"single-issue",key:e.ID},c.a.createElement("div",{className:"issue-wrapper"},c.a.createElement("div",{className:"status"},c.a.createElement("div",{className:"progress ".concat(e.progress.split(" ").join(""))},c.a.createElement("span",null,e.progress)),c.a.createElement("div",{className:"priority ".concat(e.priority.split(" ").join(""))},c.a.createElement("span",null,e.priority))),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:"../../uploads/".concat(e.imgid?e.imgid:"default-project.svg"),alt:e.title})),c.a.createElement("div",{className:"title"},c.a.createElement("h4",null,e.title))))}))))))},te=(a(98),function(e){return y.a.post("/api/comments",e)}),ae=function(e){return y.a.delete("".concat("/api/comments","/").concat(e)).then((function(e){return e.data}))},ne=function(e){var t=e.issue,a=e.issueId,r=Object(n.useState)(""),l=Object(s.a)(r,2),i=l[0],o=l[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),p=m[0],E=m[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/issues/".concat(a));case 2:t=e.sent,E(t.data.Comments);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"comments-wrapper"},c.a.createElement("h4",null,"Issue comments"),c.a.createElement("div",{className:"add-comment-input"},c.a.createElement("textarea",{name:"content",placeholder:"Add new comment...",value:i,onChange:function(e){return o(e.target.value)}}),i.length>0?c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"secondary-btn",onClick:function(){o("")}},"Cancel"),c.a.createElement("button",{className:"primary-btn",onClick:function(e){if(e.preventDefault(),""!==i&&i.length>5){var a={content:i,IssueID:t.ID};te(a).then((function(e){E(p.concat(e.data)),o("")})),H.b.success("Comment successfully added!")}else H.b.error("Add at least 6 characters!")}},"Add")):""),p&&p.map((function(e){return c.a.createElement("div",{className:"single-comment",key:e.ID},c.a.createElement("div",{className:"left"},c.a.createElement("div",{className:"author"},c.a.createElement("h5",null,"John Doe"),c.a.createElement("span",null,"3 days ago")),c.a.createElement("p",null,e.content)),c.a.createElement("div",{className:"right"},c.a.createElement(d.a,{className:"delete",onClick:function(){return t=e.ID,ae(t).then((function(e){var a=p.filter((function(e){return e.ID!==t}));E(a)})),void H.b.success("Comment successfully deleted");var t}})))}))))},ce=function(e){var t=e.match,a=Object(n.useState)(""),r=Object(s.a)(a,2),l=r[0],i=r[1],u=t.params.issueId;Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/issues/".concat(u));case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]);var p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],f=E[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),h=O[0],N=O[1],C=Object(n.useState)(!1),k=Object(s.a)(C,2),D=k[0],I=k[1],w=Object(n.useRef)(null),S=[{value:A.REQUESTED,label:A.REQUESTED},{value:A.TODO,label:A.TODO},{value:A.INPROGRESS,label:A.INPROGRESS},{value:A.DONE,label:A.DONE}];return c.a.createElement(c.a.Fragment,null,l&&c.a.createElement("div",{className:"single-issue-wrapper",key:l.ID},c.a.createElement("div",{className:"main-col"},c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",defaultValue:l.title,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{title:e.target.value}))}}),c.a.createElement("div",{className:"icon description"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{title:l.title});G(e,t)}(l.ID)}))),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("b",null,"Description"),c.a.createElement("textarea",{name:"description",id:"description",defaultValue:l.description,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{description:e.target.value}))}}),c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{description:l.description});G(e,t)}(l.ID)}))),c.a.createElement(ne,{issue:l,issueId:u})),c.a.createElement("div",{className:"side-col"},c.a.createElement("div",{className:"image-wrapper"},c.a.createElement("img",{style:{width:"100%"},src:"/uploads/".concat(l.imgid),alt:l.title}),c.a.createElement("h5",null,l.title," issue")),c.a.createElement("div",{className:"copy-delete"},document.queryCommandSupported("copy")&&c.a.createElement("div",{className:"copy-url",onClick:function(e){w.current.select(),document.execCommand("copy"),I(!0)}},D?c.a.createElement("div",{className:"copy copied center side-btn"},c.a.createElement(m.a,null)," Url copied"):c.a.createElement("div",{className:"copy uncopied center side-btn"},c.a.createElement(m.c,null),"Copy url"),c.a.createElement("input",{type:"text",ref:w,defaultValue:window.location.href})),c.a.createElement("div",{className:"delete-issue center ".concat(b?"delete-active":""),onClick:function(){return f(!b)}},c.a.createElement(d.a,null)),b&&c.a.createElement("div",{className:"delete-issues-modal"},c.a.createElement("h4",null,"Are you sure you want to delete this issue?"),c.a.createElement("div",{className:"buttons center"},c.a.createElement("button",{className:"cancel secondary-btn",onClick:function(){return f(!1)}},"Cancel"),c.a.createElement(o.b,{to:"/",className:"delete primary-btn",onClick:function(){return function(e){U(e),H.b.success("Issue successfully deleted")}(l.ID)}},"Delete")))),c.a.createElement("div",{className:"status"},c.a.createElement("h4",{className:"side-title"},"Status"),c.a.createElement("div",{className:"side-content side-btn"},c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{progress:l.progress});G(e,t)}(l.ID)})),c.a.createElement("select",{name:"status",id:"status",defaultValue:l.progress,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{progress:e.target.value}))}},S.map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.label)}))))),c.a.createElement("div",{className:"priority"},c.a.createElement("h4",{className:"side-title"},"Priority"),c.a.createElement("div",{className:"side-content side-btn"},c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{priority:l.priority});G(e,t)}(l.ID)})),c.a.createElement("select",{name:"status",id:"status",defaultValue:l.priority,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{priority:e.target.value}))}},[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}].map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.label)}))))),c.a.createElement("div",{className:"estimated"},c.a.createElement("h4",{className:"side-title"},"Estimated (Hours)"),c.a.createElement("div",{className:"side-content input-wrapper"},c.a.createElement("input",{type:"text",defaultValue:l.estimated,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{estimated:Number(e.target.value)}))}}),c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{estimated:Number(l.estimated)});G(e,t)}(l.ID)})))),h?c.a.createElement("div",{className:"log-time-modal"},c.a.createElement("div",{className:"title"},c.a.createElement("h3",null,c.a.createElement(Z.b,null)," Log Time")),c.a.createElement("div",{className:"content"},c.a.createElement("input",{type:"text",defaultValue:l.timelog,onChange:function(e){return i(Object(P.a)(Object(P.a)({},l),{},{timelog:Number(e.target.value)}))}}),c.a.createElement("div",{className:"icon"},c.a.createElement(Z.a,{onClick:function(e){var t=Object(P.a)(Object(P.a)({},l),{},{timelog:Number(l.timelog)});G(e,t)}(l.ID)})),c.a.createElement("div",{className:"buttons center"},c.a.createElement("button",{className:"delete primary-btn",onClick:function(e){return N(!1)}},"Done")))):"",c.a.createElement("div",{className:"time-tracking ".concat(h?"active-log":""),onClick:function(e){return N(!h)}},c.a.createElement("h4",{className:"side-title"},"Time tracking"),c.a.createElement("div",{className:"side-content"},c.a.createElement("div",{className:"icon"},c.a.createElement(Z.b,null)),c.a.createElement("div",{className:"hours"},c.a.createElement("div",{className:"meter"},c.a.createElement("span",{className:"".concat(l.timelog>l.estimated?"done":""),style:{width:"".concat(100*l.timelog/l.estimated,"%")}})),c.a.createElement("div",{className:"logged-estimated"},c.a.createElement("span",null,l.timelog," logged"),c.a.createElement("span",null,l.estimated," estimated"))))))))},re=(a(99),a(27)),le=a(105),se=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),o=Object(s.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),E=p[0],b=p[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),O=v[0],h=v[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/users/1");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=Object(le.a)(["access_token"]),C=Object(s.a)(N,2),k=(C[0],C[1]),D=Object(i.g)();return c.a.createElement("div",{className:"login-page"},c.a.createElement("h1",null,"Login page"),c.a.createElement("p",null,"Enter your username and password below."),c.a.createElement("button",{onClick:function(e){return b(a.email),void h("demo")},className:"demo-account-btn"},c.a.createElement(re.c,null)," Use demo account"),c.a.createElement("div",{className:"login-form-wrapper"},c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),y.a.post("/api/auth/login",{identity:E,password:O}).then((function(e){console.log(e.data),"success"===e.data.status&&(k("access_token",e.data.data,{path:"/"}),D.push("/"))})).catch((function(e){H.b.error("Wrong email or password.")}))}(e)}},c.a.createElement("input",{name:"username",type:"text",placeholder:"Username",value:E,onChange:function(e){return b(e.target.value)}}),c.a.createElement("div",{className:"login-pass"},c.a.createElement("input",{name:"password",type:u?"text":"password",placeholder:"Password",value:O,onChange:function(e){return h(e.target.value)}}),""!==O&&c.a.createElement("span",{className:"pass-icon",onClick:function(){return m(!u)}},u?c.a.createElement(re.b,null):c.a.createElement(re.a,null))),c.a.createElement("button",{type:"submit",className:"submit-btn center"},c.a.createElement("div",{className:"icon"},c.a.createElement(re.d,null))," ","Login"))))},ie=(a(100),function(){var e=Object(n.useReducer)((function(e,t){return Object(P.a)(Object(P.a)({},e),t)}),{name:"",description:"",category:"Web Development"}),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),o=(i[0],i[1]),u=function(e){var t=e.target,a=t.name,n=t.value;r(Object(R.a)({},a,n))};return c.a.createElement("div",{className:"add-issue"},c.a.createElement("h2",null,"Create new project"),c.a.createElement("div",{className:"add-issue-form"},c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""!==a.name&&""!==a.description&&""!==a.category){var t={name:a.name,description:a.description,category:a.category,userID:1};z(t),r({name:"",description:"",category:""}),o(""),H.b.success("Project successfully added!")}else H.b.error("All fields are required!")}},c.a.createElement("label",{htmlFor:"name"},"Project title"),c.a.createElement("input",{type:"text",name:"name",id:"name",value:a.name,onChange:u}),c.a.createElement("label",{htmlFor:"description"},"Project description"),c.a.createElement("textarea",{name:"description",id:"description",value:a.description,onChange:u}),c.a.createElement("label",{htmlFor:"category"},"Project category"),c.a.createElement("select",{name:"category",id:"category",defaultValue:a.category,onChange:u},[{value:"Web Development",label:"Web Development"},{value:"Marketing",label:"Marketing"},{value:"Grafic Design",label:"Grafic Design"}].map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.label)}))),c.a.createElement("button",{type:"submit",className:"submit-btn center"},c.a.createElement("div",{className:"icon"},c.a.createElement(m.f,null)),"Add project"))))}),oe=(a(101),function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),E=p[0],b=p[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("/api/users/1");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(e){!function(e,t){y.a.patch("/api/users/".concat(e),t).then((function(e){return e.data}))}(e,Object(P.a)(Object(P.a)({},a),{},{username:o,email:E})),H.b.success("Account info updated")};return c.a.createElement("div",null,c.a.createElement("div",{className:"edit-account"},c.a.createElement("h2",null,"Account"),a&&c.a.createElement("div",{className:"edit-account-form",key:a.ID},c.a.createElement("label",{htmlFor:"account-name"},"Account username"),c.a.createElement("input",{type:"text",name:"account-name",defaultValue:a.username,onChange:function(e){return u(e.target.value)}}),c.a.createElement("label",{htmlFor:"account-email"},"Account email"),c.a.createElement("input",{type:"text",name:"account-email",defaultValue:a.email,onChange:function(e){return b(e.target.value)}}),c.a.createElement("button",{type:"submit",className:"submit-btn center",onClick:function(){return f(a.ID)}},c.a.createElement("div",{className:"icon"},c.a.createElement(m.f,null)),"Update Account Info"))))});var ue=function(){return c.a.createElement(W.a,null,c.a.createElement(o.a,null,c.a.createElement(x,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/",component:K(q)}),c.a.createElement(i.b,{exact:!0,path:"/add-issue",component:Q}),c.a.createElement(i.b,{exact:!0,path:"/project/:projectId",component:K(ee)}),c.a.createElement(i.b,{exact:!0,path:"/issue/:issueId",component:K(ce)}),c.a.createElement(i.b,{exact:!0,path:"/add-project",component:K(ie)}),c.a.createElement(i.b,{exact:!0,path:"/edit-account",component:K(oe)}),c.a.createElement(i.b,{exact:!0,path:"/login",component:se}))),c.a.createElement(H.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnHover:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(102)},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.b118b86b.chunk.js.map